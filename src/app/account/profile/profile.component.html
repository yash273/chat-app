<div class="form-container mat-elevation-z5 text-center" *ngIf="user$ | async as user">
    <h1>User Profile</h1>
    <div class="profile-image">
        <img width="150" height="150" [src]="user.photoURL || '/assets/profile-placeholder.jpg'">
        <button mat-mini-fab (click)="imageInput.click()">
            <mat-icon>edit</mat-icon>
        </button>
    </div>
    <input #imageInput type="file" hidden (change)="uploadImage($event, user)">

    <form class="profile-form" [formGroup]="profileForm" (ngSubmit)="saveProfile()">
        <div class="row">
            <mat-form-field appearance="standard">
                <input matInput formControlName="firstName" placeholder="First Name">
            </mat-form-field>
            <mat-form-field appearance="standard">
                <input type="text" matInput formControlName="lastName" placeholder="Last Name" />
            </mat-form-field>
        </div>

        <div class="row">
            <mat-form-field appearance="standard">
                <input type="text" matInput formControlName="displayName" placeholder="Display Name" />
                <!-- <mat-error *ngIf="profileForm.displayName.errors?.required">This should not be empty</mat-error> -->
                <!-- <mat-error *ngIf="profileForm.get('.displayName')?.errors?.required">This should not be empty</mat-error> -->
            </mat-form-field>
            <mat-form-field appearance="standard">
                <input type="tel" matInput formControlName="phone" placeholder="Phone" />
            </mat-form-field>
        </div>

        <div class="cta-div margin-top">
            <button type="submit" mat-raised-button color="primary">
                Save
            </button>
            <button type="button" mat-raised-button color="accent" routerLink="/home">
                Cancel
            </button>
        </div>
    </form>
</div>